{% if standalone %}
<?xml version="1.0" standalone="no"?>
{% if external_style_path %}
<?xml-stylesheet href="{{external_style_path}}" type="text/css"?>
{% endif %}
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
{% endif %}
<svg id="{{prefix}}svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="{{width}}" height="{{height}}" viewBox="{{viewBox}}">
<defs>
  <g id="{{prefix}}agent">
   <circle class="body" cx="0" cy="0" r="1"/>
   <circle opacity="0.5" stroke="none" fill="black" cx="0.75" cy="0" r="0.25"/>
  </g>
  <g id="{{prefix}}robomaster_ep">
    <path class="body" d="m -0.82233223,0.24 c -0.0391148,-0.15514519 -0.0391148,-0.32485481 0,-0.48 0.0120317,-0.0477227 0.07,-0.13 0.07,-0.13 h 0.45 l 0.09,-0.11 h 0.42 l 0.09,0.11 h 0.45 c 0,0 0.16467536,0.14929718 0.2,0.25 0.0264806,0.07549027 0.0264806,0.16450973 0,0.24 -0.0353246,0.10070282 -0.2,0.25 -0.2,0.25 h -0.45 l -0.09,0.11 h -0.42 l -0.09,-0.11 h -0.45 c 0,0 -0.0579683,-0.0822773 -0.07,-0.13 z"/>
    <rect class="wheel" height="0.22774614" rx="0.073571824" ry="0.073361315" style="fill:#121212;fill-opacity:1;stroke:none;stroke-width:0.00979554;stroke-dasharray:none;stroke-opacity:1" transform="scale(-1,1)" width="0.53466278" x="0.2324958" y="-0.61387306"/>
    <rect class="wheel" height="0.22774614" rx="0.073571824" ry="0.073361315" style="fill:#121212;stroke:none" width="0.53466278" x="0.23283984" y="-0.61387306"/>
    <rect class="wheel" height="0.22774614" rx="0.073571824" ry="0.073361315" style="fill:#121212;stroke:none" width="0.53466278" x="0.23283984" y="0.38612694"/>
    <rect class="wheel" height="0.22774614" rx="0.073571824" ry="0.073361315" style="fill:#121212;stroke:none" width="0.53466278" x="-0.76715857" y="0.38612694"/>
    <rect class="motor" height="0.12521972" style="fill:#2a2a2a;stroke:none" width="0.22443947" x="-0.093881205" y="0.15738994"/>
    <rect class="motor" height="0.12521972" style="fill:#2a2a2a;stroke:none" width="0.22443947" x="-0.093881205" y="-0.28260982"/>
    <path class="arm" d="m 1.0576703,-0.39000203 -0.23000152,0.0700009 -0.0300033,0.1699999 H -0.14233403 V 0.1500012 H 0.79766546 L 0.82766878,0.3200011 1.0576703,0.390002 1.2276702,0.3200011 1.2576684,0.2599996 H 1.0518308 L 0.93766725,0.1199978 V -0.1199978 L 1.0624503,-0.2599996 h 0.1952181 l -0.029998,-0.0600015 z m -0.00814,0.0597017 -0.13185764,0.1502648 -0.052064,-0.0813749 z m -0.75185597,0.2503 H 0.54478682 V 0.0800003 H 0.29767013 Z M 0.91766846,0.1841076 1.0495261,0.3343724 0.86560445,0.2654825 Z" style="fill:#2a2a2a;stroke:none"/>
  </g>
  <g id="{{prefix}}quadrotor">
    <path class="camera" style="stroke:none;fill:#808080" d="M 0.25,0 0.75,0.25 0.75,-0.25 Z"/>
    <g class="body">
      <path d="M 0.06999986,0.07032032 0.49632602,-0.4605096 0.45935482,-0.492153 -0.07000004,-0.06968042 Z"/>
      <path d="m -0.07000006,0.07032032 -0.42632616,-0.53082992 0.0369712,-0.0316434 0.52935486,0.42247258 z"/>
      <path d="M 0.06999986,-0.07096132 0.49632602,0.4598686 0.45935482,0.4915121 -0.07000004,0.06903952 Z" />
      <path d="M -0.07000006,-0.07096132 -0.49632622,0.4598686 -0.45935502,0.491512 0.06999984,0.06903942 Z"/>
      <circle cx="0" cy="0" r="0.35" />
    </g>
    <g class="prop">
      <ellipse
         style="fill:#0d0d0d;stroke:none;"
         cx="0.69928879"
         cy="-0.14274563"
         rx="0.024324713"
         ry="0.11011158"
         transform="rotate(-45)" />
      <ellipse
         style="fill:#0d0d0d;stroke:none;"
         cx="0.69928879"
         cy="0.14367317"
         rx="0.024324713"
         ry="0.11011158"
         transform="rotate(-45)" />
      <ellipse
         style="fill:none;stroke:#000000;stroke-width:0.0392596"
         cx="0.49399981"
         cy="-0.49447966"
         rx="0.28037018"
         ry="0.28037015"  />
      <ellipse
         style="fill:none;stroke:#000000;stroke-width:0.0574358"
         cx="0.49399981"
         cy="-0.49447966"
         rx="0.051282048"
         ry="0.051282078" />
    </g>
    <g class="prop">
      <ellipse
         style="fill:#0d0d0d;stroke:none;"
         cx="0.69928879"
         cy="-0.14274563"
         rx="0.024324713"
         ry="0.11011158"
         transform="matrix(-0.70710678,-0.70710678,-0.70710678,0.70710678,0,0)" />
      <ellipse
         style="fill:#0d0d0d;stroke:none;"
         cx="0.69928879"
         cy="0.14367317"
         rx="0.024324713"
         ry="0.11011158"
         transform="matrix(-0.70710678,-0.70710678,-0.70710678,0.70710678,0,0)" />
      <ellipse
         style="fill:none;stroke:#000000;stroke-width:0.0392596"
         cx="0.49399981"
         cy="-0.49447966"
         rx="0.28037018"
         ry="0.28037015" 
         transform="scale(-1,1)" />
      <ellipse
         style="fill:none;stroke:#000000;stroke-width:0.0574358"
         cx="0.49399981"
         cy="-0.49447966"
         rx="0.051282048"
         ry="0.051282078"
         transform="scale(-1,1)" />
    </g>
    <g class="prop">
      <ellipse
         style="fill:#0d0d0d;stroke:none;"
         cx="0.69928879"
         cy="-0.14274563"
         rx="0.024324713"
         ry="0.11011158"
         transform="matrix(0.70710678,0.70710678,0.70710678,-0.70710678,0,0)" />
      <ellipse
         style="fill:#0d0d0d;stroke:none;"
         cx="0.69928879"
         cy="0.14367317"
         rx="0.024324713"
         ry="0.11011158"
         transform="matrix(0.70710678,0.70710678,0.70710678,-0.70710678,0,0)" />
      <ellipse
         style="fill:none;stroke:#000000;stroke-width:0.0392596"
         cx="0.49399981"
         cy="-0.49447966"
         rx="0.28037018"
         ry="0.28037015" 
         transform="scale(1,-1)" />
      <ellipse
         style="fill:none;stroke:#000000;stroke-width:0.0574358"
         cx="0.49399981"
         cy="-0.49447966"
         rx="0.051282048"
         ry="0.051282078"
         transform="scale(1,-1)" />
    </g>
    <g class="prop">
      <ellipse
         style="fill:#0d0d0d;stroke:none;"
         cx="0.69928879"
         cy="-0.14274563"
         rx="0.024324713"
         ry="0.11011158"
         transform="rotate(135)" />
      <ellipse
         style="fill:#0d0d0d;stroke:none;"
         cx="0.69928879"
         cy="0.14367317"
         rx="0.024324713"
         ry="0.11011158"
         transform="rotate(135)" />
      <ellipse
         style="fill:none;stroke:#000000;stroke-width:0.0392596"
         cx="0.49399981"
         cy="-0.49447966"
         rx="0.28037018"
         ry="0.28037015" 
         transform="scale(-1)" />
      <ellipse
         style="fill:none;stroke:#000000;stroke-width:0.0574358"
         cx="0.49399981"
         cy="-0.49447966"
         rx="0.051282048"
         ry="0.051282078"
         transform="scale(-1)" />
    </g>
  </g>
  <g id="{{prefix}}thymio" transform="rotate(90)">
      <path class="body"
         d="M -0.6874903375 -0.7257309 L -0.6874903375 0.3749771125 L 0.6874903375 0.3749771125 L 0.6874903375 -0.726118475 A 1 1 0 0 0 0 -1 A 1 1 0 0 0 -0.6874903375 -0.7257309 z " />
      <rect
         style="fill:#333333;stroke:none"
         width="0.1875"
         height="0.525"
         x="-0.675"
         y="-0.2625"
         rx="0.0625" />
      <rect
         style="fill:#333333;stroke:none"
         width="0.1875"
         height="0.525"
         x="0.4875"
         y="-0.2625"
         rx="0.0625" />
  </g>
  <g id="{{prefix}}wheelchair" transform="rotate(180) translate(-1.1,-3.46)">
    <path
       stroke="none"
       style="fill:#c8beb7"
       d="m 0.9612298,3.7966354 h -0.7778 v -0.6666 h 0.7778 z"/>
    <path
       stroke="none"
       style="fill:#080808;"
       d="m 1.62765948,2.970532 v -0.0823436 -0.084297 H 1.0722298 v 0.166640 z"/>
    <path
       stroke="none"
       style="fill:#080808;"
       d="m 1.62765948,4.081332 v -0.0823436 -0.084297 H1.0722298 v 0.1666406 z"/>
    <path
       class="body"
       d="m 1.84994464,3.9982804 h -1 v -1.1112 h 1 z" />
    <path
       stroke="none"
       style="fill:#917c6f;opacity:0.75;stroke:none"
       d="m 1.84994464,3.9982664 v -0.0554296 -1.0557422 h -0.11117186 v 1.1111718 z"/>
  </g>
  <g id="{{prefix}}human" transform="rotate(180) translate(-1,-3.5)">
    <g class="body">
    <ellipse
       cx="0.80312774"
       cy="2.6959574"
       rx="0.46378762"
       ry="0.1392307" />
    <ellipse
       cx="0.80312774"
       cy="4.2229708"
       rx="0.46378762"
       ry="0.1392307" />
    <ellipse
       cx="1.08757424"
       cy="3.4594642"
       rx="0.39526176"
       ry="0.86793068" />
    </g>
    <ellipse
       style="fill:#1a1a1a;opacity:0.5;stroke:none"
       cx="1.08757424"
       cy="3.458025"
       rx="0.3257516"
       ry="0.33270264" />
  </g>
</defs>
<style>
<![CDATA[
{% if not include_style_path %}
{% include 'style.css' %}
{% endif %}
{% if style %}
{{style}}
{% endif %}
{% if background_color %}
svg {
   background-color: {{background_color}};
}
{% endif %}
.grid {
  stroke: {{grid_color}};
  stroke-width: {{grid_thickness}};
}
]]>
</style>

<g id="{{prefix}}world" transform='scale(1, -1) {{rotation}}'>

{% if grid %}

{% for x in grid_xs -%}
    <line x1="{{x}}" y1="{{grid_ys[0]}}" x2="{{x}}" y2="{{grid_ys[-1]}}" class="grid"/>
{%- endfor -%}

{%- for y in grid_ys -%}
    <line y1="{{y}}" x1="{{grid_xs[0]}}" y2="{{y}}" x2="{{grid_xs[-1]}}" class="grid"/>
{%- endfor %}

{% endif %}

{{svg_world}}

{{epilog}}

</g>
</svg>
