
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>How to integrate a C++ component &#8212; navground 0.6.0.dev documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../_static/documentation_options.js?v=66bbf0b8"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/tabs.js?v=3030b3cb"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'guides/extend/register_cpp';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="How to integrate a Python component" href="register_py.html" />
    <link rel="prev" title="How to extend navground" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">navground 0.6.0.dev documentation</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../installation/index.html">Installation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../installation/pip.html">PyPi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/github_release.html">Github release</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/docker.html">Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/from_source.html">Building from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/step_by_step.html">Step-by-step Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/setup_dev.html">Setup a development environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/troubleshooting.html">Troubleshooting</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../first_steps.html">First Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tour.html">A tour of navground</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../packages/index.html">Packages</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../packages/navground_core.html">navground_core</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../packages/navground_core_py.html">navground_core_py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../packages/navground_sim.html">navground_sim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../packages/navground_sim_py.html">navground_sim_py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../packages/navground_examples.html">navground_examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../packages/navground_examples_py.html">navground_examples_py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../packages/navground_examples_yaml.html">navground_examples_yaml</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../packages/navground_demos.html">navground_demos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../packages/navground_minimal_plugin_cpp.html">navground_minimal_plugin_cpp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../packages/navground_minimal_plugin_py.html">navground_minimal_plugin_py</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/designing_an_experiment.html">Designing an experiment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/running_an_experiment_no_hdf5.html">Running and analysing experiments (in memory)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/running_an_experiment.html">Running and analysing experiments (HFD5)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/display.html">Visualize a simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/playback.html">Load and playing back recorded experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/deadlocks_and_collisions.html">Deadlocks and Collisions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/modulations.html">Behavior Modulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/sensors.html">Sensors</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../index.html">Guides</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="index.html">How to extend navground</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3 current active"><a class="current reference internal" href="#">How to integrate a C++ component</a></li>
<li class="toctree-l3"><a class="reference internal" href="register_py.html">How to integrate a Python component</a></li>
<li class="toctree-l3"><a class="reference internal" href="behavior.html">Behaviors</a></li>
<li class="toctree-l3"><a class="reference internal" href="behavior_modulation.html">Behavior modulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="kinematics.html">Kinematics</a></li>
<li class="toctree-l3"><a class="reference internal" href="state_estimation.html">State Estimations</a></li>

<li class="toctree-l3"><a class="reference internal" href="task.html">Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="scenario.html">Scenarios</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../parallelize.html">How to parallelize the execution of an experiment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../probes.html">How to record custom data in experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html">How to build without the ROS build tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../validate.html">How to validate code</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../components/index.html">Components</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../components/behaviors/index.html">Behaviors</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../components/behaviors/dummy.html">Dummy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/behaviors/orca.html">Optimal Reciprocal Collision Avoidance (ORCA)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/behaviors/hrvo.html">Hybrid Velocity Obstacle (HRVO)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/behaviors/hl.html">Human-like (HL)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/behaviors/social_force.html">Social Force</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../components/behavior_modulations/index.html">Behavior Modulations</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../components/behavior_modulations/limit_acceleration.html">Limiting the acceleration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/behavior_modulations/limit_twist.html">Limiting the twist</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/behavior_modulations/motor_pid.html">Motorized Wheels PID</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/behavior_modulations/relaxation.html">Relaxation</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../components/kinematics/index.html">Kinematics</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../components/kinematics/omni.html">Omni-directional</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/kinematics/ahead.html">Ahead</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/kinematics/2wdiff.html">Two-wheeled differential drive</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/kinematics/2wdiffdyn.html">Two-wheeled differential drive with limited torque</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/kinematics/4womni.html">Four-wheeled omnidirectional drive</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../components/state_estimations/index.html">State Estimations</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../components/state_estimations/bounded.html">Geometric with limited range</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/state_estimations/discs.html">Discs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/state_estimations/odometry.html">Odometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/state_estimations/lidar.html">Lidar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/state_estimations/boundary.html">Boundary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/state_estimations/local_gridmap.html">Local GridMap</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../components/tasks/index.html">Tasks</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../components/tasks/direction.html">Direction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/tasks/waypoints.html">Waypoints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/tasks/go_to_pose.html">GoToPose</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/tasks/path.html">Path</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../components/scenarios/index.html">Scenarios</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../components/scenarios/antipodal.html">Antipodal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/scenarios/corridor.html">Corridor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/scenarios/cross.html">Cross</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../components/scenarios/cross_torus.html">Cross Torus</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../background/index.html">Background Information</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../background/two_wheeled_kinematics.html">Two-wheeled kinematics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../background/accessors.html">Accessors</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../reference/index.html">Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/core/index.html">Core</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/core/cpp/index.html">C++ API</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/cpp/types.html">Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/cpp/common.html">Geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/cpp/auto_registration.html">Auto registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/cpp/yaml.html">YAML</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/cpp/kinematics/index.html">Kinematics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/cpp/target.html">Target</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/cpp/behaviors/index.html">Behaviors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/cpp/state/index.html">Environment State</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/cpp/collision_computation.html">Computing collisions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/cpp/social_margin.html">Social margin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/cpp/behavior_modulations/index.html">Behavior Modulations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/cpp/controller.html">Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/cpp/helper.html">Helpers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/cpp/build.html">Build info</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/core/python/index.html">Python API</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/python/common.html">Geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/python/auto_registration.html">Auto registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/python/yaml.html">YAML</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/python/kinematics/index.html">Kinematics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/python/target.html">Target</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/python/behaviors/index.html">Behaviors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/python/state/index.html">Environment State</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/python/collision_computation.html">Computing collisions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/python/social_margin.html">Social margin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/python/behavior_modulations/index.html">Behavior Modulations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/python/controller.html">Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/python/build.html">Build info</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/core/yaml/index.html">YAML Schemas</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/yaml/common.html">Geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/yaml/register.html">Registered components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/yaml/kinematics.html">Kinematics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/yaml/social_margin.html">Social margin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/yaml/behavior_modulation.html">Behavior Modulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/yaml/state.html">Environment State</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/core/yaml/behavior.html">Behavior</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/sim/index.html">Simulation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/sim/cpp/index.html">C++ API</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/cpp/world.html">World</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/cpp/agent.html">Agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/cpp/state_estimations/index.html">State estimations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/cpp/tasks/index.html">Tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/cpp/sampling.html">Sampling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/cpp/scenarios/index.html">Scenarios</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/cpp/experiment/index.html">Experiments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/cpp/yaml.html">YAML</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/sim/python/index.html">Python API</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/python/world.html">World</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/python/agent.html">Agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/python/state_estimations/index.html">State estimations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/python/tasks/index.html">Tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/python/scenarios/index.html">Scenarios</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/python/experiment/index.html">Experiments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/python/yaml.html">YAML</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/python/plugins.html">Plugins</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/python/helpers.html">Helpers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/python/visualization/index.html">Visualization</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/sim/yaml/index.html">YAML Schemas</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/yaml/agent.html">Agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/yaml/task.html">Task</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/yaml/state_estimation.html">State estimation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/yaml/world.html">World</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/yaml/samplers.html">Sampling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/yaml/scenario.html">Scenario</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/sim/yaml/experiment.html">Experiment</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/guides/extend/register_cpp.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>How to integrate a C++ component</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#register-the-type">Register the type</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#define-properties">Define Properties</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#property-schema">Property Schema</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#yaml">YAML</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#class-schema">Class Schema</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#class-skeleton">Class skeleton</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-as-a-plugin">Install as a plugin</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#complete-example">Complete example</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#distribute">Distribute</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="how-to-integrate-a-c-component">
<h1>How to integrate a C++ component<a class="headerlink" href="#how-to-integrate-a-c-component" title="Link to this heading">#</a></h1>
<p>You have developed a new navground component in C++ (i.e., one of <a class="reference internal" href="../../reference/core/cpp/behaviors/behavior.html#_CPPv4N9navground4core8BehaviorE" title="navground::core::Behavior"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">navground::core::Behavior</span></code></a>, <a class="reference internal" href="../../reference/core/cpp/behavior_modulations/behavior_modulation.html#_CPPv4N9navground4core18BehaviorModulationE" title="navground::core::BehaviorModulation"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">navground::core::BehaviorModulation</span></code></a>, <a class="reference internal" href="../../reference/core/cpp/kinematics/kinematics.html#_CPPv4N9navground4core10KinematicsE" title="navground::core::Kinematics"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">navground::core::Kinematics</span></code></a>, <a class="reference internal" href="../../reference/sim/cpp/scenarios/scenario.html#_CPPv4N9navground3sim8ScenarioE" title="navground::sim::Scenario"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">navground::sim::Scenario</span></code></a>, <a class="reference internal" href="../../reference/sim/cpp/state_estimations/state_estimation.html#_CPPv4N9navground3sim15StateEstimationE" title="navground::sim::StateEstimation"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">navground::sim::StateEstimation</span></code></a>, or <a class="reference internal" href="../../reference/sim/cpp/tasks/task.html#_CPPv4N9navground3sim4TaskE" title="navground::sim::Task"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">navground::sim::Task</span></code></a>).</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;navground/core/&lt;component&gt;.h&quot;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">core</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">navground</span><span class="o">::</span><span class="nn">core</span><span class="p">;</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">MyComponent</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="p">};</span>
</pre></div>
</div>
<p>You can already use as it is but if you <em>register</em> it, you will integrate it better
in the navground API and CLI, and you will simplify its usage by others.</p>
<p>For example, you have developed a new navigation behavior called “MyBehavior” (no trivial task, congrats!) and you want to run experiments to compare its performance with other navigation algorithms (which is actually one of the main design goals of navground).</p>
<p>After</p>
<ul class="simple">
<li><p>registering the type</p></li>
<li><p>exposing as a property any parameter to be configure from YAML</p></li>
<li><p>specialize the YAML encoding/decoding if the basics functionality is not sufficient</p></li>
<li><p>installing it as a plugin</p></li>
</ul>
<p>you can use the behavior in an experiment, e.g., configured for like this</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">scenario</span><span class="p">:</span>
<span class="w">   </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Cross</span>
<span class="w">   </span><span class="nt">groups</span><span class="p">:</span>
<span class="w">     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="w">       </span><span class="nt">behavior</span><span class="p">:</span>
<span class="w">         </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MyBehavior</span>
<span class="w">         </span><span class="nt">my_param</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">       </span><span class="nt">kinematics</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">       </span><span class="nt">state_estimation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<p>Each step adds functionality, summarized in the table below, that is not needed to compile or use the component but that provides a more complete integration with navground.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>to</p></th>
<th class="head"><p>example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#register-type"><span class="std std-ref">Register the type</span></a></p></td>
<td><p>instantiate by name</p></td>
<td><p><code class="code highlight cpp c++ docutils literal highlight-c++"><span class="k">auto</span><span class="w"> </span><span class="n">comp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Component</span><span class="o">::</span><span class="n">make_type</span><span class="p">(</span><span class="s">&quot;MyName&quot;</span><span class="p">);</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#properties"><span class="std std-ref">Define Properties</span></a></p></td>
<td><p>access parameters by name</p></td>
<td><p><code class="code highlight cpp c++ docutils literal highlight-c++"><span class="n">comp</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;value&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#yaml"><span class="std std-ref">YAML</span></a></p></td>
<td><p>customize the YAML conversion</p></td>
<td><p><code class="code highlight cpp c++ docutils literal highlight-c++"><span class="k">auto</span><span class="w"> </span><span class="n">comp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YAML</span><span class="o">::</span><span class="n">load</span><span class="o">&lt;</span><span class="n">Component</span><span class="o">&gt;</span><span class="p">(</span><span class="n">node</span><span class="p">);</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#plugin"><span class="std std-ref">Install as a plugin</span></a></p></td>
<td><p>share the extension</p></td>
<td><p><code class="code highlight cpp c++ docutils literal highlight-c++"><span class="n">load_plugins</span><span class="p">();</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<section id="register-the-type">
<span id="register-type"></span><h2>Register the type<a class="headerlink" href="#register-the-type" title="Link to this heading">#</a></h2>
<p>Register your component to the base class register using <a class="reference internal" href="../../reference/core/cpp/register.html#_CPPv4I0EN9navground4core11HasRegister13register_typeENSt6stringERKNSt6stringERK10PropertiesRK6Schema" title="navground::core::HasRegister::register_type"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">navground::core::HasRegister::register_type()</span></code></a> to be able to instantiate it by name.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// declaration</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">MyComponent</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">type</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">/// definition</span>

<span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">register_type</span><span class="o">&lt;</span><span class="n">MyComponent</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;MyName&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>The name of the static member (<code class="docutils literal notranslate"><span class="pre">type</span></code>, in this case) used to hold <code class="docutils literal notranslate"><span class="pre">register_type</span></code> can be anything.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can also register the class inside the class declaration:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">MyComponent</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="w">  </span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">register_type</span><span class="o">&lt;</span><span class="n">MyComponent</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;MyName&quot;</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<p>Once a class has been registered, it can be instantiated using a generic factory method <a class="reference internal" href="../../reference/core/cpp/register.html#_CPPv4N9navground4core11HasRegister9make_typeERKNSt6stringE" title="navground::core::HasRegister::make_type"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">navground::core::HasRegister::make_type()</span></code></a> by providing its name</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">Component</span><span class="o">&gt;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Component</span><span class="o">::</span><span class="n">make_type</span><span class="p">(</span><span class="s">&quot;MyName&quot;</span><span class="p">);</span>
<span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="o">-&gt;</span><span class="n">get_type</span><span class="p">();</span>
<span class="c1">// type is equal to &quot;MyName&quot;</span>
<span class="c1">// equivalently using types</span>
<span class="c1">// const auto type = Component::get_type&lt;MyComponent&gt;();</span>
</pre></div>
</div>
<p>and loaded from a YAML such</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MyName</span>
</pre></div>
</div>
<p>using</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">YAML</span><span class="o">::</span><span class="n">Node</span><span class="w"> </span><span class="nf">node</span><span class="p">(...);</span>
<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">Component</span><span class="o">&gt;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YAML</span><span class="o">::</span><span class="n">load</span><span class="o">&lt;</span><span class="n">Component</span><span class="o">&gt;</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>
<span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="o">-&gt;</span><span class="n">get_type</span><span class="p">();</span>
<span class="c1">// type is equal to &quot;MyName&quot;</span>
</pre></div>
</div>
</section>
<section id="define-properties">
<span id="properties"></span><h2>Define Properties<a class="headerlink" href="#define-properties" title="Link to this heading">#</a></h2>
<p>When registering the class, expose any configuration parameter as a <em>property</em>, providing a
getter, an optional setter, a default value, and an optional description.</p>
<p>Getters can be</p>
<ul class="simple">
<li><p>functions/lambdas of type <code class="code highlight cpp c++ docutils literal highlight-c++"><span class="n">std</span><span class="o">::</span><span class="n">function</span><span class="o">&lt;</span><span class="n">T</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyComponent</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&gt;</span></code></p></li>
<li><p>methods of type <code class="code highlight cpp c++ docutils literal highlight-c++"><span class="n">T</span><span class="w"> </span><span class="n">MyComponent</span><span class="o">::*</span><span class="p">()</span></code></p></li>
<li><p>members of type <code class="code highlight cpp c++ docutils literal highlight-c++"><span class="n">T</span><span class="w"> </span><span class="n">MyComponent</span><span class="o">::*</span></code></p></li>
</ul>
<p>while setters can be</p>
<ul class="simple">
<li><p><code class="code highlight cpp c++ docutils literal highlight-c++"><span class="k">nullptr</span></code> to define readonly properties</p></li>
<li><p>functions/lambdas of type <code class="code highlight cpp c++ docutils literal highlight-c++"><span class="n">std</span><span class="o">::</span><span class="n">function</span><span class="o">&lt;</span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyComponent</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">T</span><span class="p">)</span><span class="o">&gt;</span></code> or <code class="code highlight cpp c++ docutils literal highlight-c++"><span class="n">std</span><span class="o">::</span><span class="n">function</span><span class="o">&lt;</span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyComponent</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="p">)</span><span class="o">&gt;</span></code></p></li>
<li><p>methods of type <code class="code highlight cpp c++ docutils literal highlight-c++"><span class="kt">void</span><span class="w"> </span><span class="n">MyComponent</span><span class="o">::*</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">T</span><span class="p">)</span></code> or <code class="code highlight cpp c++ docutils literal highlight-c++"><span class="kt">void</span><span class="w"> </span><span class="n">MyComponent</span><span class="o">::*</span><span class="p">(</span><span class="n">T</span><span class="p">)</span></code></p></li>
</ul>
<p>As (optional) second argument of <a class="reference internal" href="../../reference/core/cpp/register.html#_CPPv4I0EN9navground4core11HasRegister13register_typeENSt6stringERKNSt6stringERK10PropertiesRK6Schema" title="navground::core::HasRegister::register_type"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">navground::core::HasRegister::register_type()</span></code></a>, pass a map of type <a class="reference internal" href="../../reference/core/cpp/property.html#_CPPv4N9navground4core10PropertiesE" title="navground::core::Properties"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">navground::core::Properties</span></code></a> associating names to properties, instantiated using a combination of <a class="reference internal" href="../../reference/core/cpp/property.html#_CPPv4I00EN9navground4core8Property4makeE8PropertyRK11TypedGetterI1T1CERK11TypedSetterI1T1CERK1TRKNSt6stringERK6SchemaRKNSt6vectorINSt6stringEEE" title="navground::core::Property::make"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">navground::core::Property::make()</span></code></a>, <a class="reference internal" href="../../reference/core/cpp/property.html#_CPPv4I000EN9navground4core8Property14make_readwriteE8PropertyM1C1URK1TRKNSt6stringERK6SchemaRKNSt6vectorINSt6stringEEE" title="navground::core::Property::make_readwrite"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">navground::core::Property::make_readwrite()</span></code></a>, and <a class="reference internal" href="../../reference/core/cpp/property.html#_CPPv4I000EN9navground4core8Property13make_readonlyE8PropertyM1C1URKNSt6stringERK6SchemaRKNSt6vectorINSt6stringEEE" title="navground::core::Property::make_readonly"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">navground::core::Property::make_readonly()</span></code></a>:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">/// definition</span>

<span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">register_type</span><span class="o">&lt;</span><span class="n">MyComponent</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;MyName&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{{</span><span class="s">&quot;my_param&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">core</span><span class="o">::</span><span class="n">Property</span><span class="o">::</span><span class="n">make</span><span class="p">(...)}});</span>
</pre></div>
</div>
<p>In practice, if the class defines accessors like</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">MyComponent</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="w">  </span><span class="n">Component</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_value</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">get_value</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">_value</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">set_value</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="k">private</span><span class="o">:</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">_value</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>you can define properties like</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">/// definition</span>

<span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">register_type</span><span class="o">&lt;</span><span class="n">MyComponent</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;MyName&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{{</span><span class="s">&quot;my_param&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">core</span><span class="o">::</span><span class="n">Property</span><span class="o">::</span><span class="n">make</span><span class="p">(</span><span class="o">&amp;</span><span class="n">MyComponent</span><span class="o">::</span><span class="n">get_value</span><span class="p">,</span>
<span class="w">                                                 </span><span class="o">&amp;</span><span class="n">MyComponent</span><span class="o">::</span><span class="n">set_value</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span>
<span class="w">                                                 </span><span class="s">&quot;my description&quot;</span><span class="p">)}});</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Not all compilers support defining the properties inline such as in</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">MyComponent</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="nf">get_value</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">_value</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">set_value</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">register_type</span><span class="o">&lt;</span><span class="n">MyComponent</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">      </span><span class="s">&quot;MyName&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{{</span><span class="s">&quot;my_param&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">core</span><span class="o">::</span><span class="n">Property</span><span class="o">::</span><span class="n">make</span><span class="p">(</span><span class="o">&amp;</span><span class="n">MyComponent</span><span class="o">::</span><span class="n">get_value</span><span class="p">,</span>
<span class="w">                                                   </span><span class="o">&amp;</span><span class="n">MyComponent</span><span class="o">::</span><span class="n">set_value</span><span class="p">,</span>
<span class="w">                                                   </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;my description&quot;</span><span class="p">)}});</span>
<span class="k">private</span><span class="o">:</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">_value</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>because the initialization order in not guaranteed. To be safe, instantiate your properties outside of the class declaration.</p>
</div>
<p>Once the class has been registered, it gains generic accessors <a class="reference internal" href="../../reference/core/cpp/property.html#_CPPv4NK9navground4core13HasProperties3getERKNSt6stringE" title="navground::core::HasProperties::get"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">navground::core::HasProperties::get()</span></code></a>, <a class="reference internal" href="../../reference/core/cpp/property.html#_CPPv4N9navground4core13HasProperties3setERKNSt6stringERKN8Property5FieldE" title="navground::core::HasProperties::set"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">navground::core::HasProperties::set()</span></code></a>, and <a class="reference internal" href="../../reference/core/cpp/property.html#_CPPv4I0EN9navground4core13HasProperties9set_valueEvRKNSt6stringERK1V" title="navground::core::HasProperties::set_value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">navground::core::HasProperties::set_value()</span></code></a>, that uses names to identify properties.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">MyComponent</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;value&quot;</span><span class="p">).</span><span class="n">get</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">c</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="s">&quot;value&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">!</span><span class="n">value</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When we have access to the class declaration, being able to get/set properties by name is not very useful, as we could directly use the class own accessors.</p>
<p>Instead, this become very useful when we don’t have access to the class definition, like when loading from a shared library, from YAML or when using it in Python. In this case, properties allows a generic way to access to instance attributes (from C++, Python, and YAML).</p>
</div>
<p>We can also query for all properties</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">MyComponent</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="n">core</span><span class="o">::</span><span class="n">Properties</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="n">get_properties</span><span class="p">();</span>
<span class="c1">// equivalently using types</span>
<span class="c1">// core::Properties &amp; properties = Component::get_properties&lt;MyComponent&gt;();</span>
</pre></div>
</div>
<p>Moreover, properties will also appear in the YAML representation</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">YAML</span><span class="o">::</span><span class="n">dump</span><span class="o">&lt;</span><span class="n">Component</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&amp;</span><span class="n">c</span><span class="p">);</span>
</pre></div>
</div>
<p>as additional fields (one for each property)</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MyName</span>
<span class="nt">my_param</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</div>
<p>and, similarly, will be loaded from YAML.</p>
<section id="property-schema">
<h3>Property Schema<a class="headerlink" href="#property-schema" title="Link to this heading">#</a></h3>
<p>Pass an optional argument of type <code class="code highlight cpp c++ docutils literal highlight-c++"><span class="kt">void</span><span class="p">(</span><span class="n">YAML</span><span class="o">::</span><span class="n">Node</span><span class="w"> </span><span class="o">&amp;</span><span class="p">)</span></code> to methods like <a class="reference internal" href="../../reference/core/cpp/property.html#_CPPv4I00EN9navground4core8Property4makeE8PropertyRK11TypedGetterI1T1CERK11TypedSetterI1T1CERK1TRKNSt6stringERK6SchemaRKNSt6vectorINSt6stringEEE" title="navground::core::Property::make"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">navground::core::Property::make()</span></code></a> to add validation constrains to the property. For example, to mark an integer property as strictly positive, add</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">core</span><span class="o">::</span><span class="n">Property</span><span class="o">::</span><span class="n">make</span><span class="p">(</span><span class="o">&amp;</span><span class="n">MyComponent</span><span class="o">::</span><span class="n">get_value</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">MyComponent</span><span class="o">::</span><span class="n">set_value</span><span class="p">,</span>
<span class="w">                     </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;my description&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">YAML</span><span class="o">::</span><span class="n">schema</span><span class="o">::</span><span class="n">strict_positive</span><span class="p">)}});</span>
</pre></div>
</div>
</section>
</section>
<section id="yaml">
<span id="id1"></span><h2>YAML<a class="headerlink" href="#yaml" title="Link to this heading">#</a></h2>
<p>In case the conversion from/to YAML provided by navground is not sufficient, specialize the methods
<a class="reference internal" href="../../reference/core/cpp/register.html#_CPPv4NK9navground4core11HasRegister6encodeERN4YAML4NodeE" title="navground::core::HasRegister::encode"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">navground::core::HasRegister::encode()</span></code></a> and <a class="reference internal" href="../../reference/core/cpp/register.html#_CPPv4N9navground4core11HasRegister6decodeERKN4YAML4NodeE" title="navground::core::HasRegister::decode"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">navground::core::HasRegister::decode()</span></code></a>.
There is no need to call the base implementation as it is empty.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">MyComponent</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ...</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">encode</span><span class="p">(</span><span class="n">YAML</span><span class="o">::</span><span class="n">Node</span><span class="w"> </span><span class="o">&amp;</span><span class="n">node</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// put additional information int the YAML node;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">decode</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">YAML</span><span class="o">::</span><span class="n">Node</span><span class="w"> </span><span class="o">&amp;</span><span class="n">node</span><span class="p">)</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// extract additional information from the YAML node;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Through these methods you can read more complex parameters from the YAML than <a class="reference internal" href="../../reference/core/cpp/property.html#_CPPv4N9navground4core8Property5FieldE" title="navground::core::Property::Field"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">navground::core::Property::Field</span></code></a>. For example, you can configure a value of type <code class="code highlight cpp c++ docutils literal highlight-c++"><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span></code> from a YAML such as</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">my_complex_param</span><span class="p">:</span>
<span class="w">   </span><span class="nt">a</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">   </span><span class="nt">b</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</div>
<p>if you implement the custom logic in the decoder and the encoder, like</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">encode</span><span class="p">(</span><span class="n">YAML</span><span class="o">::</span><span class="n">Node</span><span class="w"> </span><span class="o">&amp;</span><span class="n">node</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">node</span><span class="p">[</span><span class="s">&quot;my_complex_param&quot;</span><span class="p">][</span><span class="s">&quot;a&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">my_int_a</span><span class="p">;</span>
<span class="w">  </span><span class="n">node</span><span class="p">[</span><span class="s">&quot;my_complex_param&quot;</span><span class="p">][</span><span class="s">&quot;b&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">my_bool_b</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">decode</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">YAML</span><span class="o">::</span><span class="n">Node</span><span class="w"> </span><span class="o">&amp;</span><span class="n">node</span><span class="p">)</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s">&quot;my_complex_param&quot;</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">[</span><span class="s">&quot;my_complex_param&quot;</span><span class="p">];</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">param</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">my_int_a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">param</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">]..</span><span class="n">as</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">param</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">my_bool_b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">param</span><span class="p">[</span><span class="s">&quot;b&quot;</span><span class="p">]..</span><span class="n">as</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Properties are treated as random variables in a navground scenario. For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">scenario</span><span class="p">:</span>
<span class="w">  </span><span class="nt">groups</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">      </span><span class="nt">behavior</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MyBehavior</span>
<span class="w">        </span><span class="nt">my_param</span><span class="p">:</span>
<span class="w">          </span><span class="nt">sampler</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uniform</span>
<span class="w">          </span><span class="nt">from</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">          </span><span class="nt">to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</pre></div>
</div>
<p>defines a group of agents whose behavior “my_param” parameter has a random value.
This does <em>not</em> extend to parameters read using custom YAML decoders.
In case this is required, users will need to implement this logic in a scenario.</p>
<p>Therefore, we suggest to restrict parameters exposed to YAML to properties, so to get
the treatment as random variable for free.</p>
</div>
<section id="class-schema">
<h3>Class Schema<a class="headerlink" href="#class-schema" title="Link to this heading">#</a></h3>
<p>If your class defines a custom YAML representation, it should also register the related JSON-schema, by passing a function of type <span class="cpp-expr sig sig-inline cpp"><span class="kt">void</span><span class="p">(</span><span class="n">YAML</span><span class="p">::</span><span class="n">Node</span><span class="p">&amp;</span><span class="p">)</span></span> as last argument to <a class="reference internal" href="../../reference/core/cpp/register.html#_CPPv4I0EN9navground4core11HasRegister13register_typeENSt6stringERKNSt6stringERK10PropertiesRK6Schema" title="navground::core::HasRegister::register_type"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">navground::core::HasRegister::register_type()</span></code></a>.</p>
<p>In the example above, we add the appropriate schema</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">schema</span><span class="p">(</span><span class="n">YAML</span><span class="o">::</span><span class="n">Node</span><span class="w"> </span><span class="o">&amp;</span><span class="n">node</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Node</span><span class="w"> </span><span class="n">my_complex_param</span><span class="p">;</span>
<span class="w">  </span><span class="n">my_complex_param</span><span class="p">[</span><span class="s">&quot;type&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;object&quot;</span><span class="p">;</span>
<span class="w">  </span><span class="n">my_complex_param</span><span class="p">[</span><span class="s">&quot;properties&quot;</span><span class="p">][</span><span class="s">&quot;a&quot;</span><span class="p">][</span><span class="s">&quot;type&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;integer&quot;</span><span class="p">;</span>
<span class="w">  </span><span class="n">my_complex_param</span><span class="p">[</span><span class="s">&quot;properties&quot;</span><span class="p">][</span><span class="s">&quot;b&quot;</span><span class="p">][</span><span class="s">&quot;type&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;boolean&quot;</span><span class="p">;</span>
<span class="w">  </span><span class="n">my_complex_param</span><span class="p">[</span><span class="s">&quot;additionalProperties&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">  </span><span class="n">node</span><span class="p">[</span><span class="s">&quot;properties&quot;</span><span class="p">][</span><span class="s">&quot;my_complex_param&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">my_complex_param</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">register_type</span><span class="o">&lt;</span><span class="n">MyComponent</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;MyName&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{{</span><span class="s">&quot;my_param&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">core</span><span class="o">::</span><span class="n">Property</span><span class="o">::</span><span class="n">make</span><span class="p">(...)}},</span><span class="w"> </span><span class="o">&amp;</span><span class="n">schema</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="class-skeleton">
<h2>Class skeleton<a class="headerlink" href="#class-skeleton" title="Link to this heading">#</a></h2>
<p>Using the appropriate macro, the class skeleton simplifies to</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// declaration</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">MyComponent</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">type</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// void encode(YAML::Node &amp;node) const override;</span>
<span class="w">  </span><span class="c1">// void decode(const YAML::Node &amp;node) override;</span>
<span class="w">  </span><span class="c1">// static void schema(YAML::Node &amp;node);</span>
<span class="p">};</span>

<span class="c1">// definition</span>

<span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">register_type</span><span class="o">&lt;</span><span class="n">MyComponent</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;MyName&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="p">{</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">core</span><span class="o">::</span><span class="n">Property</span><span class="o">::</span><span class="n">make</span><span class="p">(</span><span class="o">&amp;</span><span class="n">MyComponent</span><span class="o">::</span><span class="n">getter</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">MyComponent</span><span class="o">::</span><span class="n">setter</span><span class="p">,</span>
<span class="w">                                    </span><span class="n">default_value</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;description&quot;</span><span class="p">)},</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// , &amp;MyComponent::schema</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="install-as-a-plugin">
<span id="plugin"></span><h2>Install as a plugin<a class="headerlink" href="#install-as-a-plugin" title="Link to this heading">#</a></h2>
<p>This is a build-time step. Wraps one or more components in a shared library and install it as a plugin to integrate it in the navground CLI and API.</p>
<p>In the project <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code>, pass the list of shared libraries you want to install as plugins to the cmake function <code class="docutils literal notranslate"><span class="pre">register_navground_plugins</span></code>.</p>
<p>For example, to build and install component <code class="docutils literal notranslate"><span class="pre">MyComponent</span></code> implemented in file <code class="docutils literal notranslate"><span class="pre">my_component.cpp</span></code>, add</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">add_library</span><span class="p">(</span><span class="s">my_component</span><span class="w"> </span><span class="s">SHARED</span><span class="w"> </span><span class="s">my_component.cpp</span><span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">my_component</span><span class="w"> </span><span class="s">navground_core::navground_core</span><span class="w"> </span><span class="s">...</span><span class="p">)</span>
<span class="nb">register_navground_plugins</span><span class="p">(</span>
<span class="w">   </span><span class="s">TARGETS</span><span class="w"> </span><span class="s">my_component</span>
<span class="w">   </span><span class="s">DESTINATION</span><span class="w"> </span><span class="o">$&lt;</span><span class="nv">IF:$&lt;BOOL:${WIN32}</span><span class="o">&gt;</span><span class="s">,bin,lib&gt;</span>
<span class="p">)</span>

<span class="nb">install</span><span class="p">(</span>
<span class="w">  </span><span class="s">TARGETS</span><span class="w"> </span><span class="s">my_component</span>
<span class="w">  </span><span class="s">EXPORT</span><span class="w"> </span><span class="s">my_componentTargets</span>
<span class="w">  </span><span class="s">LIBRARY</span><span class="w"> </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">lib</span>
<span class="w">  </span><span class="s">ARCHIVE</span><span class="w"> </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">lib</span>
<span class="w">  </span><span class="s">RUNTIME</span><span class="w"> </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">bin</span>
<span class="w">  </span><span class="s">INCLUDES</span><span class="w"> </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">include</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We use <code class="docutils literal notranslate"><span class="pre">DESTINATION</span> <span class="pre">$&lt;IF:$&lt;BOOL:${WIN32}&gt;,bin,lib&gt;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">DESTINATION</span> <span class="pre">lib</span></code> because on Windows shared libraries are installed  to <code class="docutils literal notranslate"><span class="pre">bin</span></code>.</p>
</div>
<p>Once installed, the components will be automatically discovered when calling <a class="reference internal" href="../../reference/core/cpp/plugins.html#_CPPv4N9navground4core12load_pluginsERK7PathSetRK10PathSetMapb" title="navground::core::load_plugins"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">navground::core::load_plugins()</span></code></a>.</p>
<div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;navground/core/plugins.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;navground/core/&lt;component&gt;.h&quot;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">core</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">navground</span><span class="o">::</span><span class="nn">core</span><span class="p">;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="c1">// will load the shared library with MyComponent</span>
<span class="w">   </span><span class="c1">// which in turn will call register_type&lt;MyComponent&gt;(&quot;MyName&quot;);</span>
<span class="w">   </span><span class="c1">// and make the component discoverable in this process.</span>
<span class="w">   </span><span class="n">core</span><span class="o">::</span><span class="n">load_plugins</span><span class="p">();</span>
<span class="w">   </span><span class="k">auto</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Component</span><span class="o">::</span><span class="n">make_type</span><span class="p">(</span><span class="s">&quot;MyName&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="c1">// do something with this component.</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will also make the component discoverable and available in the navground CLI,
provided that the option <code class="docutils literal notranslate"><span class="pre">--no-plugins</span></code> is not set.</p>
</div>
<p>If you share it with them, the library can be installed by other users too, which just need to copy add edit add the library location to the navground plugin index.</p>
</section>
<section id="complete-example">
<h2>Complete example<a class="headerlink" href="#complete-example" title="Link to this heading">#</a></h2>
<p>See <a class="reference internal" href="../../packages/navground_examples.html#component-example"><span class="std std-ref">C++ example</span></a> for an example where we implement and register a new (dummy) navigation behavior in C++.</p>
</section>
<section id="distribute">
<h2>Distribute<a class="headerlink" href="#distribute" title="Link to this heading">#</a></h2>
<p>If you want to distribute your compiled plugin:</p>
<ol class="arabic">
<li><p>add and complete the following to the project <cite>CMakeLists.txt</cite></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="s">CPACK_PRODUCTBUILD_IDENTIFIER</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CPACK_PACKAGE_DESCRIPTION</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CPACK_PACKAGE_VENDOR</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CPACK_PACKAGE_CONTACT</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">)</span>

<span class="nb">cpack_navground_plugins</span><span class="p">()</span>
</pre></div>
</div>
<p>to configure the installer. The <code class="docutils literal notranslate"><span class="pre">cpack_navground_plugins</span></code> macro includes <code class="docutils literal notranslate"><span class="pre">CPack</span></code> and makes sure that the plugin will be installed at the appropriate location.</p>
</li>
<li><p>build the project, without colcon, and by linking against a <em>released</em> version of navground</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">macOS</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">Linux</button><button aria-controls="panel-0-0-2" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-2" name="0-2" role="tab" tabindex="-1">Windows</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">source</span><span class="w"> </span>/opt/navground/setup.zsh
<span class="gp">$ </span>mkdir<span class="w"> </span>build
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>build
<span class="gp">$ </span>cmake<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Release<span class="w"> </span>..
<span class="gp">$ </span>cmake<span class="w"> </span>--build<span class="w"> </span>.
<span class="gp">$ </span>cpack
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">source</span><span class="w"> </span>/opt/navground/setup.bash
<span class="gp">$ </span>mkdir<span class="w"> </span>build
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>build
<span class="gp">$ </span>cmake<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Release<span class="w"> </span>..
<span class="gp">$ </span>cmake<span class="w"> </span>--build<span class="w"> </span>.
<span class="gp">$ </span>cpack
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-2" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-2" name="0-2" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="s2">&quot;C:\Program Files\navground\setup.bat&quot;</span>
<span class="gp">$ </span>mkdir<span class="w"> </span>build
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>build
<span class="gp">$ </span>cmake.exe<span class="w"> </span>..
<span class="gp">$ </span>cmake.exe<span class="w"> </span>--build<span class="w"> </span>.<span class="w"> </span>--config<span class="w"> </span>Release
<span class="gp">$ </span>cpack
</pre></div>
</div>
</div></div>
</li>
<li><p>share the file(s) built in <code class="docutils literal notranslate"><span class="pre">packages</span></code>.</p></li>
</ol>
<p>See <a class="reference internal" href="../../packages/navground_minimal_plugin_cpp.html#minimal-cpp"><span class="std std-ref">Minimal C++ plugin skeleton</span></a> for a minimal skeleton of a ready to be distributed C++ plugin.</p>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">How to extend navground</p>
      </div>
    </a>
    <a class="right-next"
       href="register_py.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">How to integrate a Python component</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#register-the-type">Register the type</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#define-properties">Define Properties</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#property-schema">Property Schema</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#yaml">YAML</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#class-schema">Class Schema</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#class-skeleton">Class skeleton</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-as-a-plugin">Install as a plugin</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#complete-example">Complete example</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#distribute">Distribute</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jérôme Guzzi, IDSIA
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023, Jérôme Guzzi, IDSIA.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>